<% provide(:title, 'Malla de evaluación') %>
<% content_for :stylesheet do %>
    <%= stylesheet_link_tag    "styles", :media => "all" %>
<% end %>

<div class="container-fluid ">
  <div class="row content">
    <div class="col-md-10 col-xs-10">
      <h2>Malla de evaluación</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2 col-sm-4">
      <%= link_to "Editar", edit_competences_url(@semester), class: "btn btn-warning form-btn"%>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-xs-12">
      <table class="table table-hover table-responsive" id="my-table">
        <thead>
          <tr>
            <th>Competencias</th>
            <th>Evidencias</th>
            <% if @semester.competences.first != nil %>
              <% @semester.competences.first.levels.each do |level| %>
                <th><%= level.name %></th>
              <% end %>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% if @semester.competences.first != nil %>
            <% @semester.competences.each_with_index do |competence, i| %>
              <tr id="row<%= i %>">
                <td>
                  <%= competence.name %>
                  <%= if !competence.description.nil? then competence.description end %>
                </td>
                <td>Evidencias</td>
                <% competence.competence_level.order(:level_id).each do |c| %>
                  <td><%= if !c.description.nil? then c.description end %></td>
                <% end %>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
